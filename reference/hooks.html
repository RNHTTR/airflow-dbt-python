<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>airflow_dbt_python.hooks &mdash; airflow-dbt-python 2.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/hack-font/3.3.0/web/hack.min.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=51b770b3"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="airflow_dbt_python.operators" href="operators.html" />
    <link rel="prev" title="Reference" href="../reference.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            airflow-dbt-python
          </a>
              <div class="version">
                2.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example_dags.html">Example DAGs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_does_it_work.html">How does it work?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../reference.html">Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">airflow_dbt_python.hooks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#core-dbt-hooks">Core <em>dbt</em> hooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supported-dbt-remote-hooks">Supported <em>dbt</em> remote hooks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-airflow_dbt_python.hooks.remote">The DbtRemoteHook interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dbt-git-remote"><em>dbt</em> git remote</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-airflow_dbt_python.hooks.localfs"><em>dbt</em> localfs remote</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-airflow_dbt_python.hooks.s3"><em>dbt</em> S3 remote</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="operators.html">airflow_dbt_python.operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">airflow_dbt_python.utils</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">airflow-dbt-python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../reference.html">Reference</a></li>
      <li class="breadcrumb-item active">airflow_dbt_python.hooks</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/hooks.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="airflow-dbt-python-hooks">
<h1>airflow_dbt_python.hooks<a class="headerlink" href="#airflow-dbt-python-hooks" title="Link to this heading"></a></h1>
<section id="core-dbt-hooks">
<h2>Core <em>dbt</em> hooks<a class="headerlink" href="#core-dbt-hooks" title="Link to this heading"></a></h2>
</section>
<section id="supported-dbt-remote-hooks">
<h2>Supported <em>dbt</em> remote hooks<a class="headerlink" href="#supported-dbt-remote-hooks" title="Link to this heading"></a></h2>
<section id="module-airflow_dbt_python.hooks.remote">
<span id="the-dbtremotehook-interface"></span><h3>The DbtRemoteHook interface<a class="headerlink" href="#module-airflow_dbt_python.hooks.remote" title="Link to this heading"></a></h3>
<p>The DbtRemoteHook interface includes methods for downloading and uploading files.</p>
<p>Internally, DbtRemoteHooks can use Airflow hooks to execute the actual operations.</p>
<p>Currently, only AWS S3 and the local filesystem are supported as remotes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.remote.</span></span><span class="sig-name descname"><span class="pre">DbtRemoteHook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#DbtRemoteHook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook" title="Link to this definition"></a></dt>
<dd><p>Represents a dbt project storing any dbt files.</p>
<p>A concrete backend class should implement the push and pull methods to fetch one
or more dbt files. Backends can rely on an Airflow connection with a corresponding
hook, but this is not enforced.</p>
<p>Delegating the responsibility of dealing with dbt files to backend subclasses
allows us to support more backends without changing the DbtHook.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook.connection_id">
<span class="sig-name descname"><span class="pre">connection_id</span></span><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook.connection_id" title="Link to this definition"></a></dt>
<dd><p>An optional Airflow connection. If defined, will be used to
instantiate a hook for this backend.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook.download">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#DbtRemoteHook.download"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook.download" title="Link to this definition"></a></dt>
<dd><p>Download source URL into local destination URL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – </p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – </p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – </p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook.download_dbt_profiles">
<span class="sig-name descname"><span class="pre">download_dbt_profiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#DbtRemoteHook.download_dbt_profiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook.download_dbt_profiles" title="Link to this definition"></a></dt>
<dd><p>Download a dbt profiles.yml file from a given source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em><em> | </em><em>str</em><em> | </em><em>Path</em>) – URLLike pointing to a remote containing a profiles.yml file.</p></li>
<li><p><strong>destination</strong> (<em>URL</em><em> | </em><em>str</em><em> | </em><em>Path</em>) – URLLike to a directory where the profiles.yml will be stored.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The destination Path.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Path</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook.download_dbt_project">
<span class="sig-name descname"><span class="pre">download_dbt_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#DbtRemoteHook.download_dbt_project"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook.download_dbt_project" title="Link to this definition"></a></dt>
<dd><p>Download all dbt project files from a given source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em><em> | </em><em>str</em><em> | </em><em>Path</em>) – URLLike to a directory containing a dbt project.</p></li>
<li><p><strong>destination</strong> (<em>URL</em><em> | </em><em>str</em><em> | </em><em>Path</em>) – URLLike to a directory where the  will be stored.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The destination Path.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Path</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook.upload">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">upload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#DbtRemoteHook.upload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook.upload" title="Link to this definition"></a></dt>
<dd><p>Upload a local source URL into destination URL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – </p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – </p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – </p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook.upload_dbt_project">
<span class="sig-name descname"><span class="pre">upload_dbt_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#DbtRemoteHook.upload_dbt_project"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook.upload_dbt_project" title="Link to this definition"></a></dt>
<dd><p>Upload all dbt project files from a given source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em><em> | </em><em>str</em><em> | </em><em>Path</em>) – URLLike to a directory containing a dbt project.</p></li>
<li><p><strong>destination</strong> (<em>URL</em><em> | </em><em>str</em><em> | </em><em>Path</em>) – URLLike to a directory where the dbt project will be stored.</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – Flag to indicate whether to replace existing files.</p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – Flag to indicate wheter to clear any existing files before
uploading the dbt project.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.get_remote">
<span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.remote.</span></span><span class="sig-name descname"><span class="pre">get_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scheme</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#get_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.get_remote" title="Link to this definition"></a></dt>
<dd><p>Get a DbtRemoteHook as long as the scheme is supported.</p>
<p>In the future we should make our hooks discoverable and package ourselves as a
proper Airflow providers package.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scheme</strong> (<em>str</em>) – </p></li>
<li><p><strong>conn_id</strong> (<em>str</em><em> | </em><em>None</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook" title="airflow_dbt_python.hooks.remote.DbtRemoteHook"><em>DbtRemoteHook</em></a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="dbt-git-remote">
<h3><em>dbt</em> git remote<a class="headerlink" href="#dbt-git-remote" title="Link to this heading"></a></h3>
</section>
<section id="module-airflow_dbt_python.hooks.localfs">
<span id="dbt-localfs-remote"></span><h3><em>dbt</em> localfs remote<a class="headerlink" href="#module-airflow_dbt_python.hooks.localfs" title="Link to this heading"></a></h3>
<p>A local filesystem remote for dbt.</p>
<p>Intended to be used only when running Airflow with a LocalExceutor.</p>
<dl class="py class">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.localfs.</span></span><span class="sig-name descname"><span class="pre">DbtLocalFsRemoteHook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fs_default'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#DbtLocalFsRemoteHook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook" title="Link to this definition"></a></dt>
<dd><p>A concrete dbt remote for a local filesystem.</p>
<p>This remote is intended to be used when running Airflow with a LocalExecutor, and
it relies on shutil from the standard library to do all the file manipulation. For
these reasons, running multiple concurrent tasks with this remote may lead to race
conditions if attempting to push files to the remote.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fs_conn_id</strong> (<em>str</em>) – </p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#DbtLocalFsRemoteHook.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.copy" title="Link to this definition"></a></dt>
<dd><p>Push all dbt files under the source directory to another local path.</p>
<p>Pushing supports zipped projects: the destination will be used to determine
if we are working with a zip file by looking at the file extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – A local file path where to fetch the files to push.</p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – A local path where the file should be copied.</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – Whether to replace existing files or not.</p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – Whether to delete the contents of destination before pushing.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.copy_one">
<span class="sig-name descname"><span class="pre">copy_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#DbtLocalFsRemoteHook.copy_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.copy_one" title="Link to this definition"></a></dt>
<dd><p>Pull many files from local path.</p>
<p>If the file already exists, it will be ignored if replace is False (the
default).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – A local path to a directory containing the files to pull.</p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – A destination path where to pull the file to.</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – A bool flag to indicate whether to replace existing files.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#DbtLocalFsRemoteHook.download"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.download" title="Link to this definition"></a></dt>
<dd><p>Implement download method of dbt remote interface.</p>
<p>For a local filesystem, this copies the source directory or file to destination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – </p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – </p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – </p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.get_url">
<span class="sig-name descname"><span class="pre">get_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#DbtLocalFsRemoteHook.get_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.get_url" title="Link to this definition"></a></dt>
<dd><p>Return an url relative to this hook’s basepath.</p>
<p>If the given url is absolute, simply return the url. If it’s none,
then return an url made from basepath.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>url</strong> (<em>URL</em><em> | </em><em>None</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>URL</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.upload">
<span class="sig-name descname"><span class="pre">upload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#DbtLocalFsRemoteHook.upload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.upload" title="Link to this definition"></a></dt>
<dd><p>Implement upload method of dbt remote interface.</p>
<p>For a local filesystem, this copies the source directory or file to destination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – </p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – </p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – </p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.py37_copytree">
<span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.localfs.</span></span><span class="sig-name descname"><span class="pre">py37_copytree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#py37_copytree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.py37_copytree" title="Link to this definition"></a></dt>
<dd><p>A (probably) poor attempt at replicating shutil.copytree for Python 3.7.</p>
<p>shutil.copytree is available in Python 3.7, however it doesn’t have the
dirs_exist_ok parameter, and we really need that. If the destination path doesn’t
exist, we can use shutil.copytree, however if it does then we need to copy files
one by one and make any subdirectories ourselves.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – </p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – </p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-airflow_dbt_python.hooks.s3">
<span id="dbt-s3-remote"></span><h3><em>dbt</em> S3 remote<a class="headerlink" href="#module-airflow_dbt_python.hooks.s3" title="Link to this heading"></a></h3>
<p>An implementation for an S3 remote for dbt.</p>
<dl class="py class">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.s3.DbtS3RemoteHook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.s3.</span></span><span class="sig-name descname"><span class="pre">DbtS3RemoteHook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/s3.html#DbtS3RemoteHook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.s3.DbtS3RemoteHook" title="Link to this definition"></a></dt>
<dd><p>A dbt remote implementation for S3.</p>
<p>This concrete remote class implements the DbtRemote interface by using S3 as a
storage for uploading and downloading dbt files to and from.
The DbtS3RemoteHook subclasses Airflow’s S3Hook to interact with S3. A connection id
may be passed to set the connection to use with S3.</p>
<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.s3.DbtS3RemoteHook.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/s3.html#DbtS3RemoteHook.download"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.s3.DbtS3RemoteHook.download" title="Link to this definition"></a></dt>
<dd><p>Download one or more files from a destination URL in S3.</p>
<p>Lists all S3 keys that have source as a prefix to find what to download.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – An S3 URL to a key prefix containing objects to download.</p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – A destination URL where to download the objects to. The
existing sub-directory hierarchy in S3 will be preserved.</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – Indicates whether to replace existing files when downloading.
This flag is kept here to comply with the DbtRemote interface but its
ignored as files downloaded from S3 always overwrite local files.</p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – Delete destination directory before download.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.s3.DbtS3RemoteHook.download_s3_object">
<span class="sig-name descname"><span class="pre">download_s3_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s3_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/s3.html#DbtS3RemoteHook.download_s3_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.s3.DbtS3RemoteHook.download_s3_object" title="Link to this definition"></a></dt>
<dd><p>Download an S3 object into a local destination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>destination</strong> (<em>URL</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.s3.DbtS3RemoteHook.iter_url">
<span class="sig-name descname"><span class="pre">iter_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/s3.html#DbtS3RemoteHook.iter_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.s3.DbtS3RemoteHook.iter_url" title="Link to this definition"></a></dt>
<dd><p>Iterate over an S3 key given by a URL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> (<em>URL</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Iterable</em>[<em>URL</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.s3.DbtS3RemoteHook.load_file_handle_replace_error">
<span class="sig-name descname"><span class="pre">load_file_handle_replace_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encrypt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gzip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acl_policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/s3.html#DbtS3RemoteHook.load_file_handle_replace_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.s3.DbtS3RemoteHook.load_file_handle_replace_error" title="Link to this definition"></a></dt>
<dd><p>Calls S3Hook.load_file but handles ValueError when replacing existing keys.</p>
<p>Will also log a warning whenever attempting to replace an existing key with
replace = False.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if no ValueError was raised, False otherwise.</p>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>file_url</strong> (<em>URL</em><em> | </em><em>str</em><em> | </em><em>Path</em>) – </p></li>
<li><p><strong>key</strong> (<em>str</em>) – </p></li>
<li><p><strong>bucket_name</strong> (<em>str</em><em> | </em><em>None</em>) – </p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – </p></li>
<li><p><strong>encrypt</strong> (<em>bool</em>) – </p></li>
<li><p><strong>gzip</strong> (<em>bool</em>) – </p></li>
<li><p><strong>acl_policy</strong> (<em>str</em><em> | </em><em>None</em>) – </p></li>
</ul>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.s3.DbtS3RemoteHook.upload">
<span class="sig-name descname"><span class="pre">upload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/s3.html#DbtS3RemoteHook.upload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.s3.DbtS3RemoteHook.upload" title="Link to this definition"></a></dt>
<dd><p>Upload one or more files under source URL to S3.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – A local URL where to fetch the file/s to push.</p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – An S3 URL where the file should be uploaded. The bucket
name and key prefix will be extracted by calling S3Hook.parse_s3_url.</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – Whether to replace existing S3 keys or not.</p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – Whether to delete the contents of destination before pushing.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../reference.html" class="btn btn-neutral float-left" title="Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="operators.html" class="btn btn-neutral float-right" title="airflow_dbt_python.operators" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright 2021 Tomás Farías Santana.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>