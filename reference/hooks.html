<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>airflow_dbt_python.hooks &mdash; airflow-dbt-python 1.0.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hack-font/3.3.0/web/hack.min.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="airflow_dbt_python.operators" href="operators.html" />
    <link rel="prev" title="Reference" href="../reference.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            airflow-dbt-python
          </a>
              <div class="version">
                1.0.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example_dags.html">Example DAGs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_does_it_work.html">How does it work?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../reference.html">Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">airflow_dbt_python.hooks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-airflow_dbt_python.hooks.dbt">Core <em>dbt</em> hooks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#airflow_dbt_python.hooks.dbt.DbtConnectionParam"><code class="docutils literal notranslate"><span class="pre">DbtConnectionParam</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflow_dbt_python.hooks.dbt.DbtHook"><code class="docutils literal notranslate"><span class="pre">DbtHook</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflow_dbt_python.hooks.dbt.DbtPostgresHook"><code class="docutils literal notranslate"><span class="pre">DbtPostgresHook</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflow_dbt_python.hooks.dbt.DbtRedshiftHook"><code class="docutils literal notranslate"><span class="pre">DbtRedshiftHook</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflow_dbt_python.hooks.dbt.DbtSnowflakeHook"><code class="docutils literal notranslate"><span class="pre">DbtSnowflakeHook</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#airflow_dbt_python.hooks.dbt.DbtTaskResult"><code class="docutils literal notranslate"><span class="pre">DbtTaskResult</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#supported-dbt-remote-hooks">Supported <em>dbt</em> remote hooks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-airflow_dbt_python.hooks.remote">The DbtRemoteHook interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dbt-git-remote"><em>dbt</em> git remote</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-airflow_dbt_python.hooks.localfs"><em>dbt</em> localfs remote</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-airflow_dbt_python.hooks.s3"><em>dbt</em> S3 remote</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="operators.html">airflow_dbt_python.operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">airflow_dbt_python.utils</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">airflow-dbt-python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../reference.html">Reference</a></li>
      <li class="breadcrumb-item active">airflow_dbt_python.hooks</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/hooks.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="airflow-dbt-python-hooks">
<h1>airflow_dbt_python.hooks<a class="headerlink" href="#airflow-dbt-python-hooks" title="Permalink to this heading"></a></h1>
<section id="module-airflow_dbt_python.hooks.dbt">
<span id="core-dbt-hooks"></span><h2>Core <em>dbt</em> hooks<a class="headerlink" href="#module-airflow_dbt_python.hooks.dbt" title="Permalink to this heading"></a></h2>
<p>Provides a hook to interact with a dbt project.</p>
<dl class="py class">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtConnectionParam">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.dbt.</span></span><span class="sig-name descname"><span class="pre">DbtConnectionParam</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store_override_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtConnectionParam"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtConnectionParam" title="Permalink to this definition"></a></dt>
<dd><p>A tuple indicating connection parameters relevant to dbt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – </p></li>
<li><p><strong>store_override_name</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>default</strong> (<em>Optional</em><em>[</em><em>Any</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtConnectionParam.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtConnectionParam.name" title="Permalink to this definition"></a></dt>
<dd><p>The name of the connection parameter. This name will be used to get the
parameter from an Airflow Connection or its extras.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtConnectionParam.store_override_name">
<span class="sig-name descname"><span class="pre">store_override_name</span></span><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtConnectionParam.store_override_name" title="Permalink to this definition"></a></dt>
<dd><p>A new name for the connection parameter. If not None, this
is the name used in a dbt profiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtConnectionParam.default">
<span class="sig-name descname"><span class="pre">default</span></span><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtConnectionParam.default" title="Permalink to this definition"></a></dt>
<dd><p>A default value if the parameter is not found.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">default</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#id0" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id1">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#id1" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtConnectionParam.override_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">override_name</span></span><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtConnectionParam.override_name" title="Permalink to this definition"></a></dt>
<dd><p>Returns the override_name if defined, otherwise defaults to name.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">DbtConnectionParam</span><span class="p">(</span><span class="s2">&quot;login&quot;</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">override_name</span>
<span class="go">&#39;user&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DbtConnectionParam</span><span class="p">(</span><span class="s2">&quot;port&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">override_name</span>
<span class="go">&#39;port&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id2">
<span class="sig-name descname"><span class="pre">store_override_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#id2" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtHook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.dbt.</span></span><span class="sig-name descname"><span class="pre">DbtHook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbt_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dbt_default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profiles_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtHook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtHook" title="Permalink to this definition"></a></dt>
<dd><p>A hook to interact with dbt.</p>
<p>Allows for running dbt tasks and provides required configurations for each task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dbt_conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>project_conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>profiles_conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtHook.dbt_directory">
<span class="sig-name descname"><span class="pre">dbt_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upload_dbt_project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before_upload</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace_on_upload</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtHook.dbt_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtHook.dbt_directory" title="Permalink to this definition"></a></dt>
<dd><p>Provides a temporary directory to execute dbt.</p>
<p>Creates a temporary directory for dbt to run in and prepares the dbt files
if they need to be pulled from S3. If a S3 backend is being used, and
self.upload_dbt_project is True, before leaving the temporary directory, we push
back the project to S3. Pushing back a project enables commands like deps or
docs generate.</p>
<dl class="field-list simple">
<dt class="field-odd">Yields<span class="colon">:</span></dt>
<dd class="field-odd"><p>The temporary directory’s name.</p>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>upload_dbt_project</strong> (<em>bool</em>) – </p></li>
<li><p><strong>delete_before_upload</strong> (<em>bool</em>) – </p></li>
<li><p><strong>replace_on_upload</strong> (<em>bool</em>) – </p></li>
<li><p><strong>env_vars</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Iterator</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtHook.download_dbt_profiles">
<span class="sig-name descname"><span class="pre">download_dbt_profiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profiles_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtHook.download_dbt_profiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtHook.download_dbt_profiles" title="Permalink to this definition"></a></dt>
<dd><p>Pull a dbt profiles.yml file from a given profiles_dir.</p>
<p>This operation is delegated to a DbtRemoteHook. An optional connection id is
supported for remotes that require it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>profiles_dir</strong> (<em>URLLike</em>) – </p></li>
<li><p><strong>destination</strong> (<em>URLLike</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtHook.download_dbt_project">
<span class="sig-name descname"><span class="pre">download_dbt_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtHook.download_dbt_project"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtHook.download_dbt_project" title="Permalink to this definition"></a></dt>
<dd><p>Pull a dbt project from a given project_dir.</p>
<p>This operation is delegated to a DbtRemoteHook. An optional connection id is
supported for remotes that require it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_dir</strong> (<em>URLLike</em>) – </p></li>
<li><p><strong>destination</strong> (<em>URLLike</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtHook.ensure_profiles">
<span class="sig-name descname"><span class="pre">ensure_profiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profiles_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtHook.ensure_profiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtHook.ensure_profiles" title="Permalink to this definition"></a></dt>
<dd><p>Ensure a profiles file exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>profiles_dir</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtHook.get_dbt_details_from_connection">
<span class="sig-name descname"><span class="pre">get_dbt_details_from_connection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtHook.get_dbt_details_from_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtHook.get_dbt_details_from_connection" title="Permalink to this definition"></a></dt>
<dd><p>Extract dbt connection details from Airflow Connection.</p>
<p>dbt connection details may be present as Airflow Connection attributes or in the
Connection’s extras. This class’ conn_params and conn_extra_params will be used
to fetch required attributes from attributes and extras respectively. If
conn_extra_params is empty, we merge parameters with all extras.</p>
<p>Subclasses may override this class attributes to narrow down the connection
details for a specific dbt target (like Postgres, or Redshift).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>conn</strong> (<em>Connection</em>) – The Airflow Connection to extract dbt connection details from.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary of dbt connection details.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, <em>Any</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtHook.get_dbt_target_from_connection">
<span class="sig-name descname"><span class="pre">get_dbt_target_from_connection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtHook.get_dbt_target_from_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtHook.get_dbt_target_from_connection" title="Permalink to this definition"></a></dt>
<dd><p>Return a dictionary of connection details to use as a dbt target.</p>
<p>The connection details are fetched from an Airflow connection identified by
target or self.dbt_conn_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>target</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – The target name to use as an Airflow connection ID. If ommitted, we
will use self.dbt_conn_id.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A dictionary with a configuration for a dbt target, or None if a matching</dt><dd><p>Airflow connection is not found for given dbt target.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Optional</em>[dict[str, <em>Any</em>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtHook.get_dbt_task_config">
<span class="sig-name descname"><span class="pre">get_dbt_task_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">config_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtHook.get_dbt_task_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtHook.get_dbt_task_config" title="Permalink to this definition"></a></dt>
<dd><p>Initialize a configuration for given dbt command with given kwargs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>command</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>BaseConfig</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtHook.get_remote">
<span class="sig-name descname"><span class="pre">get_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scheme</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conn_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtHook.get_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtHook.get_remote" title="Permalink to this definition"></a></dt>
<dd><p>Get a remote to interact with dbt files.</p>
<p>RemoteHooks are defined by the scheme we are looking for and an optional
connection id if we are looking to interface with any Airflow hook that
uses a connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scheme</strong> (<em>str</em>) – </p></li>
<li><p><strong>conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook" title="airflow_dbt_python.hooks.remote.DbtRemoteHook">DbtRemoteHook</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtHook.prepare_directory">
<span class="sig-name descname"><span class="pre">prepare_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profiles_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtHook.prepare_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtHook.prepare_directory" title="Permalink to this definition"></a></dt>
<dd><p>Prepares a dbt directory for execution of a dbt task.</p>
<p>Preparation involves downloading the required dbt project files and
profiles.yml.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tmp_dir</strong> (<em>str</em>) – </p></li>
<li><p><strong>project_dir</strong> (<em>URLLike</em>) – </p></li>
<li><p><strong>profiles_dir</strong> (<em>Optional</em><em>[</em><em>URLLike</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[str, Optional[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtHook.run_dbt_task">
<span class="sig-name descname"><span class="pre">run_dbt_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upload_dbt_project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before_upload</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace_on_upload</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">artifacts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtHook.run_dbt_task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtHook.run_dbt_task" title="Permalink to this definition"></a></dt>
<dd><p>Run a dbt task with a given configuration and return the results.</p>
<p>The configuration used determines the task that will be ran.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A tuple containing a boolean indicating success and optionally the results</dt><dd><p>of running the dbt command.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>command</strong> (<em>str</em>) – </p></li>
<li><p><strong>upload_dbt_project</strong> (<em>bool</em>) – </p></li>
<li><p><strong>delete_before_upload</strong> (<em>bool</em>) – </p></li>
<li><p><strong>replace_on_upload</strong> (<em>bool</em>) – </p></li>
<li><p><strong>artifacts</strong> (<em>Optional</em><em>[</em><em>Iterable</em><em>[</em><em>str</em><em>]</em><em>]</em>) – </p></li>
<li><p><strong>env_vars</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#airflow_dbt_python.hooks.dbt.DbtTaskResult" title="airflow_dbt_python.hooks.dbt.DbtTaskResult"><em>DbtTaskResult</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtHook.setup_dbt_logging">
<span class="sig-name descname"><span class="pre">setup_dbt_logging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtHook.setup_dbt_logging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtHook.setup_dbt_logging" title="Permalink to this definition"></a></dt>
<dd><p>Setup dbt logging.</p>
<p>Starting with dbt v1, dbt initializes two loggers: default_file and
default_stdout. As these are initialized by the CLI app, we need to
initialize them here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task</strong> (<em>BaseTask</em>) – </p></li>
<li><p><strong>debug</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtHook.upload_dbt_project">
<span class="sig-name descname"><span class="pre">upload_dbt_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtHook.upload_dbt_project"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtHook.upload_dbt_project" title="Permalink to this definition"></a></dt>
<dd><p>Push a dbt project from a given project_dir.</p>
<p>This operation is delegated to a DbtRemoteHook. An optional connection id is
supported for remotes that require it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_dir</strong> (<em>URLLike</em>) – </p></li>
<li><p><strong>destination</strong> (<em>URLLike</em>) – </p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – </p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtPostgresHook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.dbt.</span></span><span class="sig-name descname"><span class="pre">DbtPostgresHook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbt_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dbt_default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profiles_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtPostgresHook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtPostgresHook" title="Permalink to this definition"></a></dt>
<dd><p>A hook to interact with dbt using a Postgres connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dbt_conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>project_conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>profiles_conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtRedshiftHook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.dbt.</span></span><span class="sig-name descname"><span class="pre">DbtRedshiftHook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbt_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dbt_default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profiles_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtRedshiftHook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtRedshiftHook" title="Permalink to this definition"></a></dt>
<dd><p>A hook to interact with dbt using a Redshift connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dbt_conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>project_conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>profiles_conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtSnowflakeHook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.dbt.</span></span><span class="sig-name descname"><span class="pre">DbtSnowflakeHook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbt_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dbt_default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profiles_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtSnowflakeHook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtSnowflakeHook" title="Permalink to this definition"></a></dt>
<dd><p>A hook to interact with dbt using a Snowflake connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dbt_conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>project_conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>profiles_conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtTaskResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.dbt.</span></span><span class="sig-name descname"><span class="pre">DbtTaskResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">success</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">artifacts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/dbt.html#DbtTaskResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtTaskResult" title="Permalink to this definition"></a></dt>
<dd><p>A tuple returned after a dbt task executes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>success</strong> (<em>bool</em>) – </p></li>
<li><p><strong>run_results</strong> (<em>Optional</em><em>[</em><em>RunResult</em><em>]</em>) – </p></li>
<li><p><strong>artifacts</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtTaskResult.success">
<span class="sig-name descname"><span class="pre">success</span></span><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtTaskResult.success" title="Permalink to this definition"></a></dt>
<dd><p>Whether the task succeeded or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtTaskResult.run_results">
<span class="sig-name descname"><span class="pre">run_results</span></span><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtTaskResult.run_results" title="Permalink to this definition"></a></dt>
<dd><p>Results from the dbt task, if available.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[RunResult]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.dbt.DbtTaskResult.artifacts">
<span class="sig-name descname"><span class="pre">artifacts</span></span><a class="headerlink" href="#airflow_dbt_python.hooks.dbt.DbtTaskResult.artifacts" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary of saved dbt artifacts. It may be empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id3">
<span class="sig-name descname"><span class="pre">artifacts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#id3" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id4">
<span class="sig-name descname"><span class="pre">run_results</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">RunResult</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#id4" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id5">
<span class="sig-name descname"><span class="pre">success</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#id5" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

</section>
<section id="supported-dbt-remote-hooks">
<h2>Supported <em>dbt</em> remote hooks<a class="headerlink" href="#supported-dbt-remote-hooks" title="Permalink to this heading"></a></h2>
<section id="module-airflow_dbt_python.hooks.remote">
<span id="the-dbtremotehook-interface"></span><h3>The DbtRemoteHook interface<a class="headerlink" href="#module-airflow_dbt_python.hooks.remote" title="Permalink to this heading"></a></h3>
<p>The DbtRemoteHook interface includes methods for downloading and uploading files.</p>
<p>Internally, DbtRemoteHooks can use Airflow hooks to execute the actual operations.</p>
<p>Currently, only AWS S3 and the local filesystem are supported as remotes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.remote.</span></span><span class="sig-name descname"><span class="pre">DbtRemoteHook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#DbtRemoteHook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook" title="Permalink to this definition"></a></dt>
<dd><p>Represents a dbt project storing any dbt files.</p>
<p>A concrete backend class should implement the push and pull methods to fetch one
or more dbt files. Backends can rely on an Airflow connection with a corresponding
hook, but this is not enforced.</p>
<p>Delegating the responsibility of dealing with dbt files to backend subclasses
allows us to support more backends without changing the DbtHook.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook.connection_id">
<span class="sig-name descname"><span class="pre">connection_id</span></span><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook.connection_id" title="Permalink to this definition"></a></dt>
<dd><p>An optional Airflow connection. If defined, will be used to
instantiate a hook for this backend.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook.download">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#DbtRemoteHook.download"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook.download" title="Permalink to this definition"></a></dt>
<dd><p>Download source URL into local destination URL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – </p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – </p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – </p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook.download_dbt_profiles">
<span class="sig-name descname"><span class="pre">download_dbt_profiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#DbtRemoteHook.download_dbt_profiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook.download_dbt_profiles" title="Permalink to this definition"></a></dt>
<dd><p>Download a dbt profiles.yml file from a given source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>Union</em><em>[</em><em>URL</em><em>, </em><em>str</em><em>, </em><em>Path</em><em>]</em>) – URLLike pointing to a remote containing a profiles.yml file.</p></li>
<li><p><strong>destination</strong> (<em>Union</em><em>[</em><em>URL</em><em>, </em><em>str</em><em>, </em><em>Path</em><em>]</em>) – URLLike to a directory where the profiles.yml will be stored.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The destination Path.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Path</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook.download_dbt_project">
<span class="sig-name descname"><span class="pre">download_dbt_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#DbtRemoteHook.download_dbt_project"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook.download_dbt_project" title="Permalink to this definition"></a></dt>
<dd><p>Download all dbt project files from a given source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>Union</em><em>[</em><em>URL</em><em>, </em><em>str</em><em>, </em><em>Path</em><em>]</em>) – URLLike to a directory containing a dbt project.</p></li>
<li><p><strong>destination</strong> (<em>Union</em><em>[</em><em>URL</em><em>, </em><em>str</em><em>, </em><em>Path</em><em>]</em>) – URLLike to a directory where the  will be stored.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The destination Path.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Path</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook.upload">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">upload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#DbtRemoteHook.upload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook.upload" title="Permalink to this definition"></a></dt>
<dd><p>Upload a local source URL into destination URL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – </p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – </p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – </p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.DbtRemoteHook.upload_dbt_project">
<span class="sig-name descname"><span class="pre">upload_dbt_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#DbtRemoteHook.upload_dbt_project"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook.upload_dbt_project" title="Permalink to this definition"></a></dt>
<dd><p>Upload all dbt project files from a given source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>Union</em><em>[</em><em>URL</em><em>, </em><em>str</em><em>, </em><em>Path</em><em>]</em>) – URLLike to a directory containing a dbt project.</p></li>
<li><p><strong>destination</strong> (<em>Union</em><em>[</em><em>URL</em><em>, </em><em>str</em><em>, </em><em>Path</em><em>]</em>) – URLLike to a directory where the dbt project will be stored.</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – Flag to indicate whether to replace existing files.</p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – Flag to indicate wheter to clear any existing files before
uploading the dbt project.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.remote.get_remote">
<span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.remote.</span></span><span class="sig-name descname"><span class="pre">get_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scheme</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/remote.html#get_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.remote.get_remote" title="Permalink to this definition"></a></dt>
<dd><p>Get a DbtRemoteHook as long as the scheme is supported.</p>
<p>In the future we should make our hooks discoverable and package ourselves as a
proper Airflow providers package.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scheme</strong> (<em>str</em>) – </p></li>
<li><p><strong>conn_id</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#airflow_dbt_python.hooks.remote.DbtRemoteHook" title="airflow_dbt_python.hooks.remote.DbtRemoteHook"><em>DbtRemoteHook</em></a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="dbt-git-remote">
<h3><em>dbt</em> git remote<a class="headerlink" href="#dbt-git-remote" title="Permalink to this heading"></a></h3>
</section>
<section id="module-airflow_dbt_python.hooks.localfs">
<span id="dbt-localfs-remote"></span><h3><em>dbt</em> localfs remote<a class="headerlink" href="#module-airflow_dbt_python.hooks.localfs" title="Permalink to this heading"></a></h3>
<p>A local filesystem remote for dbt.</p>
<p>Intended to be used only when running Airflow with a LocalExceutor.</p>
<dl class="py class">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.localfs.</span></span><span class="sig-name descname"><span class="pre">DbtLocalFsRemoteHook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs_conn_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fs_default'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#DbtLocalFsRemoteHook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook" title="Permalink to this definition"></a></dt>
<dd><p>A concrete dbt remote for a local filesystem.</p>
<p>This remote is intended to be used when running Airflow with a LocalExecutor, and
it relies on shutil from the standard library to do all the file manipulation. For
these reasons, running multiple concurrent tasks with this remote may lead to race
conditions if attempting to push files to the remote.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fs_conn_id</strong> (<em>str</em>) – </p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#DbtLocalFsRemoteHook.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.copy" title="Permalink to this definition"></a></dt>
<dd><p>Push all dbt files under the source directory to another local path.</p>
<p>Pushing supports zipped projects: the destination will be used to determine
if we are working with a zip file by looking at the file extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – A local file path where to fetch the files to push.</p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – A local path where the file should be copied.</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – Whether to replace existing files or not.</p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – Whether to delete the contents of destination before pushing.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.copy_one">
<span class="sig-name descname"><span class="pre">copy_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#DbtLocalFsRemoteHook.copy_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.copy_one" title="Permalink to this definition"></a></dt>
<dd><p>Pull many files from local path.</p>
<p>If the file already exists, it will be ignored if replace is False (the
default).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – A local path to a directory containing the files to pull.</p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – A destination path where to pull the file to.</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – A bool flag to indicate whether to replace existing files.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#DbtLocalFsRemoteHook.download"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.download" title="Permalink to this definition"></a></dt>
<dd><p>Implement download method of dbt remote interface.</p>
<p>For a local filesystem, this copies the source directory or file to destination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – </p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – </p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – </p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.get_url">
<span class="sig-name descname"><span class="pre">get_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#DbtLocalFsRemoteHook.get_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.get_url" title="Permalink to this definition"></a></dt>
<dd><p>Return an url relative to this hook’s basepath.</p>
<p>If the given url is absolute, simply return the url. If it’s none,
then return an url made from basepath.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>url</strong> (<em>Optional</em><em>[</em><em>URL</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>URL</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.upload">
<span class="sig-name descname"><span class="pre">upload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#DbtLocalFsRemoteHook.upload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.DbtLocalFsRemoteHook.upload" title="Permalink to this definition"></a></dt>
<dd><p>Implement upload method of dbt remote interface.</p>
<p>For a local filesystem, this copies the source directory or file to destination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – </p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – </p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – </p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.localfs.py37_copytree">
<span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.localfs.</span></span><span class="sig-name descname"><span class="pre">py37_copytree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/localfs.html#py37_copytree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.localfs.py37_copytree" title="Permalink to this definition"></a></dt>
<dd><p>A (probably) poor attempt at replicating shutil.copytree for Python 3.7.</p>
<p>shutil.copytree is available in Python 3.7, however it doesn’t have the
dirs_exist_ok parameter, and we really need that. If the destination path doesn’t
exist, we can use shutil.copytree, however if it does then we need to copy files
one by one and make any subdirectories ourselves.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – </p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – </p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-airflow_dbt_python.hooks.s3">
<span id="dbt-s3-remote"></span><h3><em>dbt</em> S3 remote<a class="headerlink" href="#module-airflow_dbt_python.hooks.s3" title="Permalink to this heading"></a></h3>
<p>An implementation for an S3 remote for dbt.</p>
<dl class="py class">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.s3.DbtS3RemoteHook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">airflow_dbt_python.hooks.s3.</span></span><span class="sig-name descname"><span class="pre">DbtS3RemoteHook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/s3.html#DbtS3RemoteHook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.s3.DbtS3RemoteHook" title="Permalink to this definition"></a></dt>
<dd><p>A dbt remote implementation for S3.</p>
<p>This concrete remote class implements the DbtRemote interface by using S3 as a
storage for uploading and downloading dbt files to and from.
The DbtS3RemoteHook subclasses Airflow’s S3Hook to interact with S3. A connection id
may be passed to set the connection to use with S3.</p>
<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.s3.DbtS3RemoteHook.download">
<span class="sig-name descname"><span class="pre">download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/s3.html#DbtS3RemoteHook.download"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.s3.DbtS3RemoteHook.download" title="Permalink to this definition"></a></dt>
<dd><p>Download one or more files from a destination URL in S3.</p>
<p>Lists all S3 keys that have source as a prefix to find what to download.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – An S3 URL to a key prefix containing objects to download.</p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – A destination URL where to download the objects to. The
existing sub-directory hierarchy in S3 will be preserved.</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – Indicates whether to replace existing files when downloading.
This flag is kept here to comply with the DbtRemote interface but its
ignored as files downloaded from S3 always overwrite local files.</p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – Delete destination directory before download.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.s3.DbtS3RemoteHook.download_s3_object">
<span class="sig-name descname"><span class="pre">download_s3_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s3_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/s3.html#DbtS3RemoteHook.download_s3_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.s3.DbtS3RemoteHook.download_s3_object" title="Permalink to this definition"></a></dt>
<dd><p>Download an S3 object into a local destination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>destination</strong> (<em>URL</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.s3.DbtS3RemoteHook.iter_url">
<span class="sig-name descname"><span class="pre">iter_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/s3.html#DbtS3RemoteHook.iter_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.s3.DbtS3RemoteHook.iter_url" title="Permalink to this definition"></a></dt>
<dd><p>Iterate over an S3 key given by a URL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> (<em>URL</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Iterable</em>[<em>URL</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.s3.DbtS3RemoteHook.load_file_handle_replace_error">
<span class="sig-name descname"><span class="pre">load_file_handle_replace_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encrypt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gzip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acl_policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/s3.html#DbtS3RemoteHook.load_file_handle_replace_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.s3.DbtS3RemoteHook.load_file_handle_replace_error" title="Permalink to this definition"></a></dt>
<dd><p>Calls S3Hook.load_file but handles ValueError when replacing existing keys.</p>
<p>Will also log a warning whenever attempting to replace an existing key with
replace = False.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if no ValueError was raised, False otherwise.</p>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>file_url</strong> (<em>Union</em><em>[</em><em>URL</em><em>, </em><em>str</em><em>, </em><em>Path</em><em>]</em>) – </p></li>
<li><p><strong>key</strong> (<em>str</em>) – </p></li>
<li><p><strong>bucket_name</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – </p></li>
<li><p><strong>encrypt</strong> (<em>bool</em>) – </p></li>
<li><p><strong>gzip</strong> (<em>bool</em>) – </p></li>
<li><p><strong>acl_policy</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="airflow_dbt_python.hooks.s3.DbtS3RemoteHook.upload">
<span class="sig-name descname"><span class="pre">upload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/airflow_dbt_python/hooks/s3.html#DbtS3RemoteHook.upload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#airflow_dbt_python.hooks.s3.DbtS3RemoteHook.upload" title="Permalink to this definition"></a></dt>
<dd><p>Upload one or more files under source URL to S3.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>URL</em>) – A local URL where to fetch the file/s to push.</p></li>
<li><p><strong>destination</strong> (<em>URL</em>) – An S3 URL where the file should be uploaded. The bucket
name and key prefix will be extracted by calling S3Hook.parse_s3_url.</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – Whether to replace existing S3 keys or not.</p></li>
<li><p><strong>delete_before</strong> (<em>bool</em>) – Whether to delete the contents of destination before pushing.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../reference.html" class="btn btn-neutral float-left" title="Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="operators.html" class="btn btn-neutral float-right" title="airflow_dbt_python.operators" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright 2021 Tomás Farías Santana.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>